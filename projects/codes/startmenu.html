<!doctype html>
<html class="theme-next muse use-motion">
<head>
  <title>
  
  
     | 前端路上
  
</title>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


  <meta name="keywords" content="前端技术博客,前端学习文章,前端路上,雅X共赏" />




<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />



  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />


<meta name="description" content="HTML5拖拽-前端路上
    
    
    
    
    
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement(&quot;script&quot;);
          hm.src = &quot;https://">
<meta property="og:type" content="website">
<meta property="og:title" content="前端路上">
<meta property="og:url" content="http://refined-x.com/projects/codes/startmenu.html">
<meta property="og:site_name" content="前端路上">
<meta property="og:description" content="HTML5拖拽-前端路上
    
    
    
    
    
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement(&quot;script&quot;);
          hm.src = &quot;https://">
<meta property="og:updated_time" content="2017-06-27T02:45:01.093Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端路上">
<meta name="twitter:description" content="HTML5拖拽-前端路上
    
    
    
    
    
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement(&quot;script&quot;);
          hm.src = &quot;https://">

<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"right","display":"post"},
    fancybox: false,
    motion: true,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: "",
      labels: ""
    }
  };
</script>
  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?f10103677155b485824f29def715eb5d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
  
  
    
  
  <div class="container one-collumn sidebar-position-right  ">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  
  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">前端路上</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">枪在手，跟我走，前端路上不回头</p>
</div>
<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>
<nav class="site-nav">
  
  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-作品">
          <a href="/projects" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />
            
            作品
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-留言">
          <a href="/comment" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-send"></i> <br />
            
            留言
          </a>
        </li>
      
      
    </ul>
  
  
</nav> </div>
    </header>
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
    
    
      <!doctype html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>HTML5拖拽-前端路上</title>
    <meta content="HTML5拖拽,flex布局,Win10开始菜单" name="Keywords">
    <meta content="该作品使用HTML5拖拽和flex布局模拟Win10开始菜单效果" name="Description">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" type="text/css" href="../asset/ui.css">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?f10103677155b485824f29def715eb5d";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>

<body>
<h1 class="hide">HTML5拖拽</h1>
<a href="//refined-x.com" title="前端路上" style="position: absolute;right: 0;top:0;padding:.5em;">前端路上</a>
    <style>
    body,
    html {
        height: 100%;
    }
    
    body {
        background: url(../asset/img2.jpg) center no-repeat;
        background-size: cover;
    }
    
    .startmenu {
        position: absolute;
        left: 0;
        bottom: 0;
        width: 500px;
        height: 540px;
        background: rgba(0, 0, 0, .6);
        padding: 20px;
        max-height: 100%;
        box-shadow: 0 0 3px rgba(0,0,0,.5);
    }
    
    .flex-cell {
        height: 140px;
        transition: all ease 700ms;
        margin: 4px;
        text-align: center;
    }
    
    .flex-cell.dragstart {
        opacity: 0 !important;
    }
    .isDraging .flex-cell{
        opacity: .7;
    }
    </style>
    <div class="startmenu" id="wrapper">
        <div class="flex-row">
            <div class="flex-1 flex-cell flex-col justify-center bg-primary" draggable="true">日历</div>
            <div class="flex-1 flex-cell flex-col justify-center bg-success" draggable="true">腾讯QQ</div>
            <div class="flex-1 flex-cell flex-col justify-center bg-success" draggable="true">应用商店</div>
        </div>
        <div class="flex-row">
            <div class="flex-1 flex-cell flex-col justify-center bg-info" draggable="true">Xbox</div>
            <div class="flex-1 flex-cell flex-col justify-center bg-warning" draggable="true">OneNote</div>
        </div>
        <div class="flex-row">
            <div class="flex-1 flex-cell flex-col justify-center bg-danger" draggable="true">Chrome</div>
            <div class="flex-1 flex-cell flex-col justify-center bg-primary" draggable="true">Microsoft Edge</div>
            <div class="flex-1 flex-cell flex-col justify-center bg-success" draggable="true">记事本</div>
        </div>
    </div>
    <script src="../asset/sea.js" id="seajsnode"></script>
    <script>
    seajs.config({
        base: "http://static-zt.oss-cn-qingdao.aliyuncs.com/modules",
        alias: {
            "audio": "audio/audio",
            "copy": "copy/ZeroClipboard",
            "flv": "flv/flv",
            "hook": "hook/hook",
            "jquery": "jquery/1/jquery.js",
            "validform": "validform/validform",
            "My97DatePicker": "My97DatePicker/WdatePicker",
            "raty": "raty/raty",
            "upload": "upload/upload",
            "makethumb": "upload/makethumb",
            "localResizeIMG": "upload/localResizeIMG",
            "video": "video/video",
            "webuploader": "webuploader/webuploader",
            // localstorage缓存
            "seajs-localcache": "seajs/seajs-localcache",
            // debug
            "seajs-debug": "seajs/seajs-debug"
        }
    });
    </script>
    <script>
    /**
     * index
     */
    define('startmenu', function(require) {
        var $ = require('jquery');

        var dragshadow = $('<div id="dragshadow" style="position:absolute;z-index:99;overflow:hidden;pointer-events:none" />').appendTo('body');
        var documentMoveInit;
        var dragData;
        var clearnode = function(that) {
            $(that).removeClass('dragstart');
            documentMoveInit = null;
            dragshadow
                .empty()
                .css({
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
                .get(0).style.transform = '';
        };
        $('#wrapper')
            .find('.flex-cell').each(function(i, e) {
                $(e).attr('id', 'wrapper-drag-cell-' + i);
            })
            .end()
            .on('mousedown', '.flex-cell', function(e) {
                var dragele = $(this);
                documentMoveInit = {
                    left: e.originalEvent.pageX,
                    top: e.originalEvent.pageY
                };
                dragshadow
                    .css({
                        width: dragele.outerWidth(true),
                        height: dragele.outerHeight(true),
                        left: dragele.offset().left,
                        top: dragele.offset().top
                    })
                    .html(dragele.get(0).outerHTML);
                dragele.addClass('dragstart');
            })
            .on('dragstart', '.flex-cell', function(e) {
                e.originalEvent.dropEffect = "move";
                dragData = $(this).attr('id');
                e.originalEvent.dataTransfer.setData('text/plain', $(this).attr('id'));
                $('#wrapper').addClass('isDraging');
            })
            .on('dragover', '.flex-cell', function(e) {
                e.preventDefault();
                var step = 'translate(' + (e.originalEvent.pageX - documentMoveInit.left) + 'px,' + (e.originalEvent.pageY - documentMoveInit.top) + 'px)';
                dragshadow.get(0).style.transform = step;
                var dropdata = dragData; //e.originalEvent.dataTransfer.getData('text/plain');
                var target = $('#' + dropdata);
                var mycenter = parseInt($(this).offset().left) + $(this).outerWidth() / 2;
                //console.log(mycenter);
                if (e.originalEvent.pageX > mycenter) {
                    $(this).after(target);
                } else {
                    $(this).before(target);
                }
            })
            .on('dragend', '.flex-cell', function(e) {
                e.preventDefault();
                clearnode(this);
                $('#wrapper').removeClass('isDraging');
            })
            .on('mouseup', '.flex-cell', function(e) {
                clearnode(this);
            });
    });
    seajs.use('startmenu');
    </script>
    <script type="text/javascript" src="//push.zhanzhang.baidu.com/push.js"></script>
</body>

</html>

    
  </div>

          </div>
          
            
          
        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
      
      
      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars0.githubusercontent.com/u/4016839?v=3&s=460"
               alt="雅X共赏" />
          <p class="site-author-name" itemprop="name">雅X共赏</p>
          <p class="site-description motion-element" itemprop="description">原创前端技术博客，致力于分享前端学习路上的第一手资料，专注web前端开发、移动端开发、混合应用开发、前端自动化、前端工程化，Nodejs开发。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          
        </nav>
        
        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/416405800" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/tower1229" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="/projects/" target="_blank" title="Projects">
                  
                    <i class="fa fa-fw fa-fire"></i>
                  
                  Projects
                </a>
              </span>
            
          
        </div>
        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-nd/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-nd.svg" alt="Creative Commons" />
            </a>
          </div>
        
        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://refined-x.com/projects" title="雅X共赏" target="_blank">雅X共赏</a>
                </li>
              
            </ul>
          </div>
        
      </section>
      
    </div>
  </aside>


        
      </div>
    </main>
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <a href="http://refined-x.com" title="枪在手，跟我走，前端路上不回头" class="author" itemprop="copyrightHolder">雅X共赏</a>
</div>
        
        
      </div>
    </footer>
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>
  







  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  

  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>

  
  
  
  
  
  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>
<script src="http://js.passport.qihucdn.com/11.0.1.js?b3626f4bd6cd1fe45d49cfdd67138a37" id="sozz"></script>

</body>
</html>